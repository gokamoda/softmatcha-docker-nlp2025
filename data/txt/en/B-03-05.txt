Shaping Personality of Large Language Models:An Approach Based on Representation Engineering

Yin Jou Huang, Prakhar Saxena, Zi Cheng Zhao



Kyoto University



{huang,prakhar}@nlp.ist.i.kyoto-u.ac.jp â€ƒzhao.zicheng.55d@st.kyoto-u.ac.jp



Abstract

Personality is a fundamental psychological trait thatshapes an individualâ€™s behavior patterns.
This paperproposes a novel approach to personality simulation,which aims to simulate some predeï¬ned personalitytraits using large language models.
We conduct rep-resentation engineer ing and construct a set of person-ality control vectors to enable ï¬ne-grained control ofthe strength of personality traits.
Additionally, we usea linear model to capture the interdependencies amongpersonality traits.
Evaluation based on a real-worldpersonality dataset shows that our proposed personal-ity simulation method outperforms the prompt-basedbaseline method.


1 Introduction

The vast amount of human-generated training datahas given large language models (LLMs) the ability toemulate human behaviors
[1, 2, 3].
This ability facil-itates the research on role-playing agents, whose goalis to simulate predeï¬ned personas including person-alities, demographic traits, speciï¬c public ï¬gures orï¬ctional entities, etc
[4].In this work, we focus on one of the most fundamen-tal tasks of role-playing â€” personality simulation andaim to endow LLM agents with predeï¬ned personalitytraits.
Personality is a fundamental psychological traitthat inï¬‚uences how individuals interpret and react tothe world around them, consequently shaping their dis-tinctive behavioral, interaction, and decision-makingpatterns [ 5].
Modeling personality is especially cru-cial for psychological and sociological research.
Therealization of LLM personality simulation as proxiesof human behaviors opens new opportunities for an-alyzing human behavior in controlled, replicable, andscalable ways.
Most existing works on personality simulation uti-lize in-context learning and design prompts to in-ï¬‚ict changes in personality traits exhibited by theLLM [6, 7, 8, 9].
For instance, Garcia et al.
[6] uti-lize personality-describing adjectives associated withdiï¬€erent Big Five personality traits to induce variouspersonalities of LLMs [10].
However, these prompt-based approaches have several drawbacks.
First, it isdiï¬ƒcult to control the strength of personality traits.
While it is possible to put modiï¬ers such as â€˜veryâ€™ andâ€˜a bitâ€™ in front of the personality-describing adjectivesfor strength control [6], the discrete nature of languagemakes it diï¬ƒcult for more ï¬ne-grained control.
Sec-ond, the complex dependencies between personalitytraits are overlooked.
Existing studies suggest that per-sonality traits are not mutually independent, and con-trolling one personality trait might induce changes inother personality traits as well
[6, 11].
However, itis diï¬ƒcult to account for these interactions with theexisting prompt-based framework.
To address the above drawbacks, we propose a novelpersonality simulation approach based on representa-tion engineering [12].
Representation engineering isa technique designed to control the behavior of neuralnetwork models by introducing control vectors into thehidden states of the model during inference.
To adaptthis method for personality simulation, we ï¬rst derive aset of personality control vectors with the personality-describing adjectives from the Big Five personality the-ory.
These vectors enable the manipulation of modelbehavior to simulate distinct Big Five personality traits.
From the spanning vector space of the personality con-trol vectors, we sample control vectors and observe thechange in the overall personality proï¬le exhibited bythe controlled model.
We use a linear model to capturethe relation between the control vectors and the in-duced personality proï¬les.
Empirical results show that

Table 1
Examples of personality-describing adjectives ofeach Big Five personality trait.
Personality-Describing AdjectivesOPE intelligent, aesthetic, creative, ...CON organized, responsible, reliable, ...EXT extraverted, energetic, talkative, ...AGR cooperative, kind, generous, ...NEU tense, nervous, emotional, ...our proposed method is able to simultaneously simu-late a wide range of personality traits in a ï¬ne-grainedmanner.
Evaluation based on a real-world personalitydataset shows the superiority of our proposed methodover the prompt-based baseline method.


2 Personality Theory


In this work, we adopt the Big Five personality the-ory
[10]
and consider the following ï¬ve personalitytraits: openness (OPE), conscientiousness (CON), ex-traversion (EXT), agreeableness (AGR), and neuroti-cism (NEU).
Altogether, these ï¬ve personality traits en-compass a comprehensive range of human personalitypatterns.
These ï¬ve personality traits are derived basedon the lexical hypothesis
[10, 13], with each Big Fivepersonality trait representing a cluster of personality-describing adjectives under factor analysis (Table 1).Note that the ï¬ve personality traits are not binaryattributes but exist on a spectrum.
In psychology, self-report questionnaires are widely used for assessing thestrength of personality traits of an individual.
For in-stance, the International Personality Item Pool (IPIP)inventory is a commonly used personality test for as-sessing the strength of Big Five personality traits
[14].The IPIP inventory consists of 50 questions, each ques-tion measures the strength of a Big Five personality traiton a scale of 1 to 5.
For each Big Five personality traitğ‘, we take the average of the scores of all the corre-sponding questions ğ‘ ğ‘as the strength of ğ‘. Altogether,the strength scores of all Big Five personality traitsconstitute a 5-dimensional personality proï¬le:ğ‘† = {ğ‘ ğ‘‚ğ‘ƒğ¸, ğ‘ ğ¶ğ‘‚ğ‘, ğ‘ ğ¸ğ‘‹ğ‘‡, ğ‘ ğ´ğº ğ‘…, ğ‘ ğ‘ ğ¸ğ‘ˆ} (1)

3
Proposed Method

In this section, we introduce our proposed method forLLM personality simulation.
Based on the representa-tion engineering, we ï¬rst deï¬ne the personality controlvector space (Section 3.1).
We then sample vectors ğ‘£from the personality control vector space and conduct asimulation to observe the exhibited personality proï¬leğ‘† of the controlled LLM agents (Section 3.2).


3.1 Personality Control Vector Space

For each Big Five personality trait, we take the listof corresponding personality describing adjectives andtheir antonyms to construct a personality control vec-tor.
Speciï¬cally, we construct an adjective control vec-tor for each adjective pair and take the average of themas the personality control vector.
The process is sum-marized below:Adjective Control Vectors We consider eachadjective ğ‘ğ‘ğ‘–and its antonym Â¯ğ‘ğ‘ğ‘–(corresponding tosome personality trait ğ‘) to generate pairs of contrast-ing prompts:Contrasting Prompt Pair(positive
prompt)Act like an extremely [ğ‘ğ‘ğ‘–] person andcomplete the sentence: [PREFIX](negative prompt)Act like an extremely [ Â¯ğ‘ğ‘ğ‘–] person andcomplete the sentence: [PREFIX]We construct a set of ğ¾ contrasting prompt pairswith a set of ğ¾ preï¬xes.
For each preï¬x ğ‘—, we collectmodel hidden states â„ğ‘—andÂ¯â„ğ‘—of the positive and thenegative prompts and compute their diï¬€erence â„ğ‘—âˆ’Â¯â„ğ‘—.We conduct principal component analysis (PCA) on theset of ğ¾ diï¬€erence vectors and take the ï¬rst principalcomponent as the control vector ğ‘£ğ‘ğ‘–related to ğ‘ğ‘ğ‘–.During inference, the control vector ğ‘£ğ‘ğ‘–could addedto the hidden state of the model for behavior control.
Theoretically, ğ‘£ğ‘ğ‘–has the eï¬€ect of modifying model be-havior along the spectrum deï¬ned by the pair of adjec-tives ğ‘ğ‘ğ‘–and Â¯ğ‘ğ‘ğ‘–. Also, we can assert diï¬€erent degreesof control by scaling the vector with diï¬€erent scalarvalues ğ‘.
For instance, applying the vector der ived bythe adjective â€˜friendlyâ€™ with a positive value of ğ‘ leadsto increasingly friendly behavior of the model, whileusing a negative value of ğ‘ elicits unfr iendly behaviors.
Personality Control VectorsFor each person-ality trait ğ‘, we consider the set of cor responding per-sonality describing adjectives {ğ‘ğ‘ğ‘–} and compute theircorresponding vectors {ğ‘£ğ‘ğ‘–}.
We take the average ofthese adjective control vectors as the personality con-

trol vector:ğ‘£ğ‘=âˆ‘ğ‘–ğ‘£ğ‘ğ‘–(2)Since the adjectives represent diï¬€erent aspects ofa personality trait, applying vector ğ‘£ğ‘with diï¬€erentscalar values changes the strength of the personalitytrait ğ‘ exhibited by the model.
Personality Control Vector Space We deï¬nethe personality control vector space as the spanningvector space of the set of personality control vectors:{ğ‘£ğ‘} = {ğ‘£ğ‘‚ğ‘ƒğ¸, ğ‘£ğ¶ğ‘‚ğ‘, ğ‘£ğ¸ğ‘‹ğ‘‡, ğ‘£ğ´ğºğ‘…, ğ‘£ğ‘ ğ¸ğ‘ˆ} (3)From this vector space, we can sample a control vectorğ‘£, which will be a linear combination of vectors in{ğ‘£ğ‘}, where {ğ‘ğ‘} are the corresponding scalars:ğ‘£ =âˆ‘ğ‘ğ‘ğ‘ğ‘£ğ‘(4)

3.2 Simulation with Controlled Agents

After sampling a vector ğ‘£ from the personality con-trol vector space, we apply it to an LLM and observethe personality exhibited by the controlled model.
Wemeasure the strength of personality traits of the con-trolled model with a self-report questionnaire.
Eachitem of the questionnaire consists of a statement suchas â€˜I am the life of the par tyâ€™, â€˜I sympathize with othersâ€™feelingsâ€™.
Each statement is related to one of the BigFive personality traits.1ï¼‰The controlled model is askedto rate how accurately a speciï¬c statement describes iton a scale of 1 to 5.
We collect the responses of theLLM agents with the following prompt:Prompt for personality testEvaluate the following statement:[STATEMENT].Please rate how accurately this describesyou on a scale from 1 to 5 (where 1 = "veryinaccurate", 2 = "moderately inaccurate",3 = "neither accurate nor inaccurate", 4= "moderately accurate", and 5 = "veryaccurate").
Please answer using EXACTLYone of the following: 1, 2, 3, 4, or 5.Based on the responses, we calculate the strength ofeach Big-Five personality trait on the scale of 1 to 5 asthe personality proï¬le ğ‘† of the controlled model.1ï¼‰
The details could be found at https://ipip.ori.org/newBigFive5broadKey.htm.We randomly sample ğ‘ control vectors and ob-serve the resulting personality proï¬les of the con-trolled model.
In this fashion, we obtain ğ‘ pairs ofcorresponding control vectors and personality proï¬les{(ğ‘£ğ‘›, ğ‘†ğ‘›)}.
We represent each control vector as itscorresponding scalar values (Eq. 4) and each proï¬le asstrengths of Big-Five personality traits (Eq. 1).
Fur-ther, we use this data to ï¬t a linear model between thescalar values {ğ‘ğ‘} and the resulting personality traitstrengths {ğ‘ ğ‘}:ğ‘ ğ‘=âˆ‘ğ‘¥âˆˆğµğ¼ğºâˆ’5ğ‘ğ‘¥ğ‘¤ğ‘¥ ğ‘+ ğ‘ğ‘–ğ‘ğ‘ ğ‘(5)The weight ğ‘¤ğ‘¥ğ‘¦captures how a personality controlvector ğ‘£ğ‘¥aï¬€ects the strength of personality trait ğ‘ ğ‘¦.With this model, we can model the interdependenciesbetween diï¬€erent Big Five personality traits.
Also,given a designated proï¬le ğ‘† = {ğ‘ ğ‘}, we can use themodel to ï¬nd the optimal set of scalars {ğ‘ğ‘} and con-struct the control vector based on Eq. 4.

4 Experimental Settings

The following are the experimental settings.
LLM Model We adopted the Mistral-7B models,which contains a total of 32 layers.
Control Vector We obtained and applied the con-trol vectors based on the hidden states of the 15ğ‘¡ â„layer.
A general preï¬x set of size
ğ¾ = 582 provided by [12]is used.
Since applying control vectors of large magni-tude causes performance degradation, we sampled thescalars of control vectors from the uniform distribu-tion within the range of [âˆ’3.0, 3.0].
ğ‘ = 200 controlvectors are sampled to ï¬t the linear model.
Evaluation
We use the real-human dataset pro-vided by the Open-Source Psychometrics Project,which contains over 1M personality proï¬les collectedanonymously through an online personality test web-site2ï¼‰.
We sampled 200 personality proï¬les from thedataset and used our proposed method to simulate eachproï¬le.
We compared the strength of personality traitsexhibited by the model to the real value provided bythe proï¬le.
For each Big-Five personality trait, wecalculate the mean of the absolute error between thereal personality strength and the simulated personalitystrength as an evaluation metric.
Baseline We compared our proposed personal-ity simulation method with the previous prompt-based2ï¼‰
https://openpsychometrics.org/

Table 2 Mean Absolute Error of the personality strengthof each Big-Five personality trait.
Personality Trait Baseline ProposedOpenness (OPE) 0.538 0.283Conscientiousness (CON) 0.915 0.284Extraversion (EXT) 0.455 0.247Agreeableness (AGR) 0.185 0.271Neuroticism (NEU) 0.462 0.289average 0.511 0.275baseline proposed by [6].
For the baseline method,prompts are used instead of the control vectors to con-trol the LLM model.


5 Results and Analysis

We introduce the evaluation results of our proposedpersonality simulation method (Section 5.1).
In ad-dition, we conduct an analysis of the personality traitinterdependencies based on the weights of the linearmodel (Section 5.2).


5.1 Personality Simulation Evaluation

We compare the eï¬€ectiveness of our proposed per-sonality simulation method with the baseline method.
Table 2 shows the mean absolute error for each of theï¬ve Big Five personality traits.
Our proposed personality simulation method outper-forms the previous prompt-based method with a lowerabsolute error value for most personality traits exceptfor agreeableness.
The proposed method achieved a0.275 points deviation (on a scale of 1 to 5) on aver-age, signiï¬cantly lower than the average error of 0.511points of the prompt-based baseline.
The empirical re-sult illustrates the eï¬€ectiveness of our proposed methodin achieving ï¬ne-grained control of personality.


5.2 Analysis of Personality Traits In-



terdependencies

Further
, we analyze the interdependencies betweenthe ï¬ve personality traits.
Figure 1 shows the heatmap of the weights of the linear model, where thepositive weights are highlighted in red and the negativeweights are in blue.
With this visualization, we cansee how each personality vector aï¬€ects the strength ofpersonality traits (the IPIP scores).We ï¬rst observe the diagonal elements of the heatmap.
Most personality vectors have a strong and pos-Figure 1 Weights of the linear model.itive eï¬€ect on the personality strength of the corre-sponding dimension.
The only exception is the OPEpersonality trait, which is most strongly aï¬€ected bythe EXT personality vector, while the OPE personalityvector only exerts a very small positive eï¬€ect on it.
For the oï¬€-diagonal elements, the weights are gen-erally smaller in magnitude, signifying a smaller in-ï¬‚uence of the personality vector across personalitytraits.
Nevertheless, there exist several exceptions ofoï¬€-diagonal weights of large magnitude, signifyingstronger interdependence between personality traits:â€¢ The CON vector has a signiï¬cant positive inï¬‚u-ence on the AGR trait and a negative inï¬‚uence onthe NEU trait exhibited by the model.â€¢
The EXT vector has a signiï¬cant positive inï¬‚u-ence on both OPE and AGR personality traits.â€¢
The NEU vector has a signiï¬cant negative inï¬‚u-ence on both CON and AGR personality traits.
The above analysis shows the importance of model-ing interdependence between personality traits.


6 Conclusion

In this work, we proposed a novel personality sim-ulation method based on representation engineering.
We construct a set of personality control vectors to con-trol the strength of Big-Five personality traits exhibitedby the model.
To capture the interdependence of thepersonality traits, we build a simple linear model toconsider the contribution of the personality vectors toeach personality trait.
Evaluation based on a real-worldpersonality dataset shows that our proposed methodoutperforms the previous prompt-based method.



Acknowledgment

This work was supported by JST, ACT-X GrantNumber JPMJAX23CP, Japan.

References


[1] Chengxing Xie, Canyu Chen, Feiran Jia, Ziyu Ye,Kai Shu, Adel Bibi, Ziniu Hu, Philip Torr, BernardGhanem, and Guohao Li. Can large language modelagents simulate human trust behaviors? arXivpreprint arXiv:2402.04559, 2024.
[2] Gati V Aher, Rosa I Arriaga, and Adam Tauman Kalai.Using large language models to simulate multiple hu-mans and replicate human subject studies. In Inter-national Conference on Machine Learning, pp.337â€“371. PMLR, 2023.
[3] Elif Akata, Lion Schulz, Julian Coda-Forno,Seong Joon Oh, Matthias Bethge, and Eric Schulz.Playing repeated games with large language models.arXiv preprint arXiv:2305.16867, 2023.
[4] Jiangjie Chen, Xintao Wang, Rui Xu, Siyu Yuan, YikaiZhang, Wei Shi, Jian Xie, Shuang Li, Ruihan Yang,Tinghui Zhu, et al. From persona to personaliza-tion: A survey on role-playing language agents. arXivpreprint arXiv:2404.18231, 2024.
[5] Alan E Kazdin, Amer ican Psychological Association,et al. Encyclopedia of psychology, Vol. 8. Ameri-can Psychological Association Washington, DC, 2000.
[6] Greg Serapio-GarcÂ´Ä±a, Mustafa Safdari, ClÂ´ementCrepy, Luning Sun, Stephen Fitz, Peter Romero,Marwa Abdulhai, Aleksandra Faust, and MajaMatariÂ´c. Personality traits in large language models.2023.
[7] Yunfan Shao, Linyang Li, Junqi Dai, and Xipeng Qiu.Character-LLM: A trainable agent for role-playing. InHouda Bouamor, Juan Pino, and Kalika Bali, editors,Proceedings of the 2023 Conference on Empir-ical Methods in Natural Language Processing,pp. 13153â€“13187, Singapore, December 2023. Asso-ciation for Computational Linguistics.
[8] Xintao Wang, Yunze Xiao, Jen-tse Huang, Siyu Yuan,Rui Xu, Haoran Guo, Quan Tu, Yaying Fei, ZiangLeng, Wei Wang, Jiangjie Chen, Cheng Li, andYanghua Xiao. InCharacter: Evaluating personalityï¬delity in role-playing agents through psychologicalinterviews. In Lun-Wei Ku, Andre Martins, and VivekSrikumar, editors, Proceedings of the 62nd An-nual Meeting of the Association for Computa-tional Linguistics (Volume 1: Long Papers), pp.1840â€“1873, Bangkok, Thailand, August 2024. Asso-ciation for Computational Linguistics.
[9] Guangyuan Jiang, Manjie Xu, Song-Chun Zhu, Wen-juan Han, Chi Zhang, and Yixin Zhu. Evaluating andinducing personality in pre-trained language models.Advances in Neural Information Processing Sys-tems, Vol. 36, , 2024.
[10] Lewis R Goldberg. The development of markers for thebig-ï¬ve factor structure. Psychological assessment,Vol. 4, No. 1, p. 26, 1992.
[11] Yin Jou Huang and Raï¬k Hadï¬. How personality traitsinï¬‚uence negotiation outcomes? a simulation basedon large language models. In Yaser Al-Onaizan, MohitBansal, and Yun-Nung Chen, editors, Findings ofthe Association for Computational Linguistics:EMNLP 2024, pp. 10336â€“10351, Miami, Florida,USA, November 2024. Association for ComputationalLinguistics.
[12] Andy Zou, Long Phan, Sarah Chen, James Camp-bell, Phillip Guo, Richard Ren, Alexander Pan,Xuwang Yin, Mantas Mazeika, Ann-Kathrin Dom-browski, et al. Representation engineering: A top-down approach to ai transparency. arXiv preprintarXiv:2310.01405, 2023.
[13] Oscar GarcÂ´Ä±a, Anton Aluja, and LuÂ´Ä±s F GarcÂ´Ä±a. Psycho-metric properties of goldbergâ€™s 50 personality markersfor the big ï¬ve model1. European Journal of Psy-chological Assessment, Vol. 20, No. 4, pp. 310â€“319,2004.
[14] Lewis R Goldberg. Possible questionnaire format foradministering the 50-item set of ipip big-ï¬ve factormarkers. Psychol. Assess, Vol. 4, pp. 26â€“42, 1992.